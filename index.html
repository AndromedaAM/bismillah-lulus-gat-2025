<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Latihan GAT PLN - 25 Soal</title>
  <style>
    :root{--bg:#f8f8f8;--card:#fff;--primary:#2d8cf0;--danger:#e74c3c;--ok:#2ecc71;--bad:#ff7b7b}
    html,body{height:100%;margin:0;font-family:Arial,Helvetica,sans-serif;background:var(--bg);overflow-y:auto}
    .wrap{max-width:820px;margin:36px auto;padding:20px}
    .card{background:var(--card);border-radius:10px;padding:22px;box-shadow:0 6px 18px rgba(0,0,0,0.08)}
    .header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
    .timer{font-weight:700;color:var(--danger)}
    .meta-soal{color:#2d8cf0;font-weight:700;margin-bottom:8px}
    .soal-text{font-weight:600;margin-bottom:12px}
    .options label{display:block;margin:8px 0;cursor:pointer}
    #nextButton{margin-top:12px;padding:8px 14px;border:0;background:var(--primary);color:#fff;border-radius:6px;cursor:pointer}
    #nextButton.hidden{display:none}
    #result{margin-top:18px}
    .review-item{padding:10px;border-radius:8px;margin-bottom:10px}
    .ok{background:rgba(46,204,113,0.12);border:1px solid rgba(46,204,113,0.2)}
    .bad{background:rgba(255,123,123,0.12);border:1px solid rgba(255,123,123,0.2)}
    .meta{font-size:13px;color:#444;margin-top:6px}
    .controls{margin-top:12px}
    .btn-restart{background:#27ae60;color:#fff;padding:8px 12px;border-radius:6px;border:0;cursor:pointer}
    .small-note{font-size:13px;color:#666}
    a.link-pembahasan{display:inline-block;margin-top:12px;color:var(--primary);font-weight:700}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div id="quizArea">
        <div class="header">
          <div><strong>Latihan GAT PLN - 25 Soal</strong></div>
          <div class="timer">Waktu: <span id="timer">30</span>s</div>
        </div>

        <div id="nomor" class="meta-soal">Soal 1</div>
        <div id="question" class="soal-text">Memuat soal...</div>
        <div id="options" class="options"></div>
        <div class="controls">
          <button id="nextButton" onclick="manualNext()">Next</button>
        </div>
      </div>

      <div id="result" class="hidden"></div>
    </div>
  </div>

  <script>
    // data soal 1-25. setiap objek punya: num, text, opts, ans
    const quizData = [
      { num:1, text:'..., 20, 42, 86, 10, 21, 43, ...', opts:['10 dan 87','9 dan 87','9 dan 86','8 dan 87','8 dan 86'], ans:1 },
      { num:2, text:'3, 4, 12, 12, 48, 36, ...', opts:['192','164','144','108','84'], ans:0 },
      { num:3, text:'A, A, D, E, G, I, J, ...', opts:['P','O','N','M','L'], ans:3 },
      { num:4, text:'..., 18, 88, 36, 44, ..., 22', opts:['176 dan 72','44 dan 72','164 dan 72','98 dan 72','72 dan 48'], ans:1 },
      { num:5, text:'8, 24, 21, 7, 21, 18, ...', opts:['54','21','15','9','6'], ans:4 },
      { num:6, text:'11, 20, 38, ..., 146, 12, 26, 54, ...', opts:['74 dan 110','76 dan 110','74 dan 108','74 dan 106','76 dan 108'], ans:0 },
      { num:7, text:'9, 12, 17, 24, ...', opts:['36','35','33','32','31'], ans:2 },
      { num:8, text:'225, 171, 121, 83, 49, 27, ...', opts:['21','18','14','12','9'], ans:4 },
      { num:9, text:'A, ..., C, V, E, T, ..., R', opts:['X dan H','X dan G','Y dan G','X dan F','Y dan H'], ans:2 },
      { num:10, text:'1/4, 3/8, 5/16, 7/32, ...', opts:['8/74','8/64','9/64','9/62','10/62'], ans:2 },
      { num:11, text:'1, 4, 4, 6, 7, 9, 10, ...', opts:['15','14','13','12','11'], ans:2 },
      { num:12, text:'3, 7, 9, 13, 21, 25, 39, 43, ...', opts:['64 dan 69','65 dan 70','64 dan 68','62 dan 64','63 dan 67'], ans:4 },
      { num:13, text:'2, 5, 6, 13, ..., 55, 111', opts:['20','25','26','27','40'], ans:3 },
      { num:14, text:'160, 80, 73, 76, 38, 31, 34, ...', opts:['17 dan 10','17 dan 14','27 dan 17','27 dan 24','37 dan 30'], ans:0 },
      { num:15, text:'2/21, 3/18, 4/15, 5/12, ..., 7/6', opts:['6/7','2/3','6/8','6/10','6/9'], ans:4 },
      { num:16, text:'5, ..., 58, 53, 61, 56', opts:['49','50','51','52','56'], ans:1 },
      { num:17, text:'3, 8, 11, 17, ..., 45', opts:['26','27','28','29','30'], ans:2 },
      { num:18, text:'7, 11, 17, 27, 39, ...', opts:['50','51','53','56','59'], ans:4 },
      { num:19, text:'30, 35, 40, 40, 50, 45, ..., ...', opts:['50 dan 60','50 dan 55','60 dan 50','45 dan 55','60 dan 55'], ans:2 },
      { num:20, text:'20, ..., 31, 39, 22, 52, 33, 65, ...', opts:['24 dan 35','26 dan 24','24 dan 26','23 dan 26','26 dan 22'], ans:1 },
      { num:21, text:'..., 2, 12, 72', opts:['1','1/2','2/3','1/3','1/4'], ans:3 },
      { num:22, text:'..., 12, 9, ..., 24, 72, 69', opts:['3 dan 12','3 dan 27','4 dan 12','4 dan 27','6 dan 18'], ans:3 },
      { num:23, text:'C, W, F, V, I, U, ...', opts:['K','T','J','S','L'], ans:4 },
      { num:24, text:'7, 7, 7, 10, 8, 7, 8, 11, 9, 7, ..., ...', opts:['8 dan 9','9 dan 9','8 dan 10','9 dan 12','9 dan 11'], ans:3 },
      { num:25, text:'1, 7, 8, 15, 23, ...', opts:['31','32','36','38','40'], ans:3 }
    ];

    // link pembahasan yang diberikan user
    const pembahasanLink = 'https://drive.google.com/file/d/1XPw-ki23NyMhz7F26HjpsyIouEO2oqL6/view?usp=drive_link';

    let idx = 0; let timeLeft = 30; let tmr = null; const userAns = [];
    const elNomor = document.getElementById('nomor');
    const elQ = document.getElementById('question');
    const elOptions = document.getElementById('options');
    const elTimer = document.getElementById('timer');
    const elNext = document.getElementById('nextButton');
    const elResult = document.getElementById('result');

    function resetRadios(){
      const r = document.getElementsByName('opt');
      if(r) r.forEach(x=>x.checked=false);
    }

    function renderQuestion(){
      clearInterval(tmr);
      timeLeft = 30; elTimer.textContent = timeLeft;
      const data = quizData[idx];
      elNomor.textContent = 'Soal ' + data.num;
      elQ.textContent = data.text;
      elOptions.innerHTML = '';
      data.opts.forEach((o,i)=>{
        const id = `q${idx}_o${i}`;
        const lab = document.createElement('label');
        lab.innerHTML = `<input name='opt' id='${id}' type='radio' value='${i}'> ${String.fromCharCode(65+i)}. ${o}`;
        elOptions.appendChild(lab);
      });
      elNext.classList.remove('hidden');
      resetRadios();
      tmr = setInterval(()=>{ timeLeft--; elTimer.textContent = timeLeft; if(timeLeft<=0){ autoNext(); } },1000);
    }

    function saveAnswer(){
      const sel = document.querySelector("input[name='opt']:checked");
      userAns[idx] = sel?parseInt(sel.value):null;
    }

    function autoNext(){ clearInterval(tmr); saveAnswer(); idx++; if(idx<quizData.length) renderQuestion(); else showResults(); }
    function manualNext(){ clearInterval(tmr); saveAnswer(); idx++; if(idx<quizData.length) renderQuestion(); else showResults(); }

    function showResults(){
      clearInterval(tmr);
      document.getElementById('quizArea').classList.add('hidden');
      elResult.classList.remove('hidden');
      document.body.style.overflowY = 'auto';

      // count correct
      let correct = 0; quizData.forEach((q,i)=>{ if(userAns[i]===q.ans) correct++; });

      let out = `<h2>Latihan Selesai</h2><p>Jumlah jawaban benar: ${correct}/${quizData.length}</p><hr>`;
      out += `<a class='link-pembahasan' href='${pembahasanLink}' target='_blank'>Lihat pembahasan lengkap</a>`;
      out += '<h3>Review Jawaban</h3>';
      quizData.forEach((q,i)=>{
        const ua = userAns[i]===null||userAns[i]===undefined? 'Tidak dijawab' : `${String.fromCharCode(65+userAns[i])}. ${q.opts[userAns[i]]}`;
        const ca = `${String.fromCharCode(65+q.ans)}. ${q.opts[q.ans]}`;
        const isCorrect = userAns[i]===q.ans;
        out += `<div class="review-item ${isCorrect? 'ok':'bad'}">`;
        out += `<div><strong>Soal ${q.num}</strong></div>`;
        out += `<div class="meta">Pertanyaan: ${q.text}</div>`;
        out += `<div class="meta">Jawaban kamu: ${ua}</div>`;
        out += `<div class="meta">Kunci: ${ca}</div>`;
        out += `</div>`;
      });

      out += `<div style='margin-top:12px'><button class='btn-restart' onclick='restart()'>Mulai Ulang Tes</button></div>`;
      elResult.innerHTML = out;
      window.scrollTo({top:0,behavior:'smooth'});
    }

    function restart(){ idx=0; userAns.length=0; elResult.classList.add('hidden'); document.getElementById('quizArea').classList.remove('hidden'); renderQuestion(); }

    // start
    renderQuestion();
  </script>
</body>
</html>
